(function(a){a.cookieBar=function(p,e){if(p=="cookies"){var j="cookies"}else{if(p=="set"){var j="set"}else{var j=false}}var p=a.extend(defaults,p);var b=new Date();b.setTime(b.getTime()+(p.expireDays*24*60*60*1000));b=b.toGMTString();var d="cb-enabled={value}; expires="+b+"; path=/";var k,c="",q,o=document.cookie.split("; ");for(k=0;k<o.length;k++){q=o[k].split("=");if(q[0]=="cb-enabled"){c=q[1]}}if(c==""&&p.autoEnable){c="enabled";document.cookie=d.replace("{value}","enabled")}if(p.acceptOnContinue){if(p.referrer.indexOf(p.domain)>=0&&String(window.location.href).indexOf(p.policyURL)==-1&&j!="cookies"&&j!="set"&&c!="accepted"&&c!="declined"){j="set";e="accepted"}}if(j=="cookies"){if(c=="enabled"||c=="accepted"){return true}else{return false}}else{if(j=="set"&&(e=="accepted"||e=="declined")){document.cookie=d.replace("{value}",e);if(e=="accepted"){return true}else{return false}}else{var n=p.message.replace("{policy_url}",p.policyURL);if(p.acceptButton){var l='<a href="" class="cb-enable">'+p.acceptText+"</a>"}else{var l=""}if(p.declineButton){var g='<a href="" class="cb-disable">'+p.declineText+"</a>"}else{var g=""}if(p.policyButton){var f='<a href="'+p.policyURL+'" class="cb-policy">'+p.policyText+"</a>"}else{var f=""}if(p.fixed){if(p.bottom){var h=' class="fixed bottom"'}else{var h=' class="fixed"'}}else{var h=""}if(p.zindex!=""){var m=' style="z-index:'+p.zindex+';"'}else{var m=""}if(p.forceShow||c=="enabled"||c==""){if(p.append){a(p.element).append('<div id="cookie-bar"'+h+m+"><p>"+n+l+g+f+"</p></div>")}else{a(p.element).prepend('<div id="cookie-bar"'+h+m+"><p>"+n+l+g+f+"</p></div>")}}a("#cookie-bar .cb-enable").click(function(){document.cookie=d.replace("{value}","accepted");if(c!="enabled"&&c!="accepted"){window.location=p.currentLocation}else{if(p.effect=="slide"){a("#cookie-bar").slideUp(300,function(){a("#cookie-bar").remove()})}else{if(p.effect=="fade"){a("#cookie-bar").fadeOut(300,function(){a("#cookie-bar").remove()})}else{a("#cookie-bar").hide(0,function(){a("#cookie-bar").remove()})}}return false}});a("#cookie-bar .cb-disable").click(function(){var i=new Date();i.setTime(i.getTime()-(864000000));i=i.toGMTString();o=document.cookie.split("; ");for(k=0;k<o.length;k++){q=o[k].split("=");if(q[0].indexOf("_")>=0){document.cookie=q[0]+"=0; expires="+i+"; domain="+p.domain.replace("www","")+"; path=/"}else{document.cookie=q[0]+"=0; expires="+i+"; path=/"}}document.cookie=d.replace("{value}","declined");if(c=="enabled"&&c!="accepted"){window.location=p.currentLocation}else{if(p.effect=="slide"){a("#cookie-bar").slideUp(300,function(){a("#cookie-bar").remove()})}else{if(p.effect=="fade"){a("#cookie-bar").fadeOut(300,function(){a("#cookie-bar").remove()})}else{a("#cookie-bar").hide(0,function(){a("#cookie-bar").remove()})}}return false}})}}}})(jQuery);